SELECT "ingredientsrecipes"."recipeid" as "recipeid", "recipes"."name" as "recipe name", "ingredients"."name" as "ingredient", "ingredientsrecipes"."size" as "ingredient size", "pantry"."size" as "pantry size"
FROM "ingredientsrecipes"
INNER JOIN "pantry" on "ingredientsrecipes"."ingredientid" = "pantry"."ingredientid"
INNER JOIN "recipes" on  "ingredientsrecipes"."recipeid" = "recipes"."id"
INNER JOIN "ingredients" on "ingredientsrecipes"."ingredientid" = "ingredients"."id"
WHERE "pantry"."userid" = 0 AND "pantry"."size" >= "ingredientsrecipes"."size"

SELECT x."recipeid" as "recipe id"
FROM "ingredientsrecipes" x
INNER JOIN "pantry" on x."ingredientid" = "pantry"."ingredientid"
INNER JOIN "recipes" on  x."recipeid" = "recipes"."id"
INNER JOIN "ingredients" on x."ingredientid" = "ingredients"."id"
WHERE "pantry"."userid" = 0 AND "pantry"."size" >= x."size"
GROUP BY x."recipeid"
HAVING COUNT("recipes"."id") = (SELECT COUNT(y."recipeid")
FROM "ingredientsrecipes" y
WHERE x."recipeid" = y."recipeid"
GROUP BY y."recipeid"
ORDER BY y."recipeid")
;


SELECT *, "pantry"."userid"
FROM "ingredientsrecipes"
INNER JOIN "pantry" on "ingredientsrecipes"."ingredientid" = "pantry"."ingredientid"
INNER JOIN "recipes" on  "ingredientsrecipes"."recipeid" = "recipes"."id"
INNER JOIN "ingredients" on "ingredientsrecipes"."ingredientid" = "ingredients"."id"
WHERE "pantry"."userid" = 0


SELECT DISTINCT "recipes"."id"
FROM "ingredientsrecipes"
INNER JOIN "pantry" on "ingredientsrecipes"."ingredientid" = "pantry"."ingredientid"
INNER JOIN "recipes" on  "ingredientsrecipes"."recipeid" = "recipes"."id"
INNER JOIN "ingredients" on "ingredientsrecipes"."ingredientid" = "ingredients"."id"
WHERE "pantry"."userid" = 0
;
